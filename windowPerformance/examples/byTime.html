<!doctype html> 
<html>

<head>

<title>performance.timing: showPerformance</title>

<script type="text/javascript">
function showPerformance() {
	var attributesByTime = {}; // attributes keyed by time
	// for each attribute in performance.timing
	// get the time
	console.log(window.performanceTiming);
	for (o in window.performanceTiming) {
		if (window.performanceTiming.hasOwnProperty(o)) {
			console.log(o);
		}
	}
	Object.keys(window.performance.timing).forEach(function(key){ // for each timing attribute
		var time = window.performance.timing[key];
		console.log(time);
		if (attributesByTime.hasOwnProperty(time)) { // if another attribute has the same time
			attributesByTime[time] += ", " + key; // add the name of this one after a comma
		} else {
			attributesByTime[time] = key;
		}
	})
	var outputArray = [];
	for (time in attributesByTime) {
		outputArray.push(time + ": " + attributesByTime[time]);
	}	
	document.body.innerHTML += "<br />" + outputArray.join("<br />");
}

// from https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object/keys
if (!Object.keys) Object.keys = function(o){
console.log("Object.keys not supported natively");
 if (o !== Object(o))
      throw new TypeError('Object.keys called on non-object');
 var ret=[], p;
 for (p in o) if (Object.prototype.hasOwnProperty.call(o, p)) ret.push(p);
 return ret;
}
</script>


</head>

<body onload="setTimeout(showPerformance);">

<a href="http://en.wikipedia.org/wiki/File:Uluru_(Helicopter_view)-crop.jpg" title="Uluru, helicopter view image from Wikipedia"><img src="http://upload.wikimedia.org/wikipedia/commons/thumb/f/fc/Uluru_%28Helicopter_view%29-crop.jpg/800px-Uluru_%28Helicopter_view%29-crop.jpg" title="Uluru, helicopter view image from Wikipedia"></a>


</body>

</html>